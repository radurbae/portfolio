@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "Figtree";
  src: url("../assets/fonts/Figtree-VariableFont_wght.ttf") format("truetype");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Figtree";
  src: url("../assets/fonts/Figtree-Italic-VariableFont_wght.ttf") format("truetype");
  font-weight: 100 900;
  font-style: italic;
  font-display: swap;
}

html {
  scroll-behavior: smooth;
}

:root {
  color-scheme: light;
  --motion-ease: cubic-bezier(0.22, 1, 0.36, 1);
  --motion-duration: 720ms;
  --motion-distance: 22px;
}

html.dark {
  color-scheme: dark;
}

body {
  font-family:
    "Figtree",
    "Avenir Next",
    "Segoe UI",
    sans-serif;
  transition: background-color 180ms ease, color 180ms ease;
}

.dot-bg {
  background-image: radial-gradient(rgba(0, 0, 0, 0.12) 1px, transparent 1px);
  background-size: 28px 28px;
  background-position: -8px -8px;
}

html.dark body {
  background-color: #0f141b;
  color: #e6ebf0;
}

html.dark .dot-bg {
  background-image: radial-gradient(rgba(255, 255, 255, 0.14) 1px, transparent 1px);
}

html.dark .bg-white,
html.dark .bg-white\/95,
html.dark .bg-\[\#faf9f6\],
html.dark .bg-\[\#f8f8f6\],
html.dark .bg-\[\#f7f7f7\],
html.dark .bg-\[\#f3f3f3\],
html.dark .bg-\[\#f0efe9\] {
  background-color: #161d27 !important;
}

html.dark .text-\[\#151515\],
html.dark .text-\[\#121212\],
html.dark .text-\[\#2f2f2f\],
html.dark .text-\[\#3f3f3f\],
html.dark .text-\[\#4b4b4b\],
html.dark .text-\[\#4c4c4c\],
html.dark .text-\[\#5a5a5a\] {
  color: #e6ebf0 !important;
}

html.dark .border-\[\#d7d7d7\],
html.dark .border-\[\#d8d8d8\],
html.dark .border-\[\#d9d7ce\],
html.dark .border-\[\#d9d9d9\],
html.dark .border-\[\#dbdbdb\],
html.dark .border-\[\#dddddd\],
html.dark .border-\[\#e1e1e1\],
html.dark .border-\[\#e2e0d8\],
html.dark .border-\[\#c8c5ba\],
html.dark .border-\[\#d2d2d2\] {
  border-color: #313a46 !important;
}

@keyframes motion-float {
  0% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(0, -6px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes online-vibe {
  0% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.38);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(16, 185, 129, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
}

@keyframes hero-char-reveal {
  0% {
    opacity: 0;
    transform: translate3d(0, 0.48em, 0) scale(0.95);
    filter: blur(3px);
  }
  60% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
    filter: blur(0);
  }
}

@layer components {
  .floating-nav {
    transition:
      box-shadow 260ms ease,
      opacity 220ms ease;
    width: 100%;
    max-width: min(100vw - 1.25rem, 680px);
  }

  .floating-nav.is-floating {
    position: fixed;
    top: 0.95rem;
    left: 50%;
    transform: translate3d(-50%, 0, 0);
    z-index: 70;
    filter: drop-shadow(0 14px 28px rgba(10, 18, 30, 0.12));
  }

  @media (min-width: 640px) {
    .floating-nav {
      width: auto;
      max-width: none;
    }
  }

  html.dark .floating-nav.is-floating {
    filter: drop-shadow(0 16px 30px rgba(0, 0, 0, 0.36));
  }

  .motion-reveal,
  .reveal-item {
    opacity: 1;
    transform: none;
    transition:
      transform var(--motion-duration) var(--motion-ease),
      opacity calc(var(--motion-duration) - 120ms) ease,
      filter calc(var(--motion-duration) - 120ms) ease;
    transition-delay: var(--reveal-delay, 0ms);
    filter: none;
  }

  html.js-motion-ready .motion-reveal,
  html.js-motion-ready .reveal-item {
    opacity: 0;
    transform: translate3d(0, var(--motion-distance), 0) scale(0.985);
    filter: blur(2px);
  }

  html.js-motion-ready .motion-reveal.is-visible,
  html.js-motion-ready .reveal-item.is-visible {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
    filter: blur(0);
  }

  .motion-float {
    animation: motion-float 7s ease-in-out infinite;
  }

  .motion-float-slow {
    animation: motion-float 10s ease-in-out infinite;
  }

  .motion-card {
    position: relative;
    overflow: hidden;
    transition:
      transform 300ms var(--motion-ease),
      box-shadow 300ms ease,
      border-color 300ms ease;
  }

  .motion-card::after {
    content: "";
    position: absolute;
    top: 0;
    left: -130%;
    width: 85%;
    height: 100%;
    background: linear-gradient(100deg, transparent, rgba(255, 255, 255, 0.46), transparent);
    opacity: 0;
    transform: skewX(-18deg);
    transition:
      left 700ms var(--motion-ease),
      opacity 240ms ease;
    pointer-events: none;
  }

  .motion-card:hover {
    transform: translate3d(0, -4px, 0);
    box-shadow: 0 16px 30px rgba(10, 18, 30, 0.08);
  }

  .motion-card:hover::after {
    left: 145%;
    opacity: 1;
  }

  html.dark .motion-card:hover {
    box-shadow: 0 18px 32px rgba(0, 0, 0, 0.32);
  }

  html.dark .motion-card::after {
    background: linear-gradient(100deg, transparent, rgba(255, 255, 255, 0.09), transparent);
  }

  .motion-press {
    transition:
      transform 220ms var(--motion-ease),
      box-shadow 220ms ease,
      opacity 220ms ease;
    will-change: transform;
  }

  .motion-press:hover {
    transform: translate3d(0, -2px, 0);
    box-shadow: 0 12px 20px rgba(0, 0, 0, 0.16);
  }

  html.dark .motion-press:hover {
    box-shadow: 0 14px 22px rgba(0, 0, 0, 0.35);
  }

  .online-dot {
    animation: online-vibe 2.4s ease-out infinite;
  }

  .hero-word {
    display: inline-block;
    white-space: nowrap;
  }

  .hero-char {
    display: inline-block;
    opacity: 0;
    animation: hero-char-reveal 640ms var(--motion-ease) forwards;
    animation-delay: var(--char-delay, 0ms);
    will-change: transform, opacity, filter;
  }

  .hero-char-highlight {
    font-weight: 800;
  }

  .hero-space {
    width: 0.28em;
  }

  .hero-word-token {
    unicode-bidi: isolate;
  }

  .hero-space-inline {
    display: inline-block;
    width: 0.32em;
  }

  .language-picker-trigger {
    @apply inline-flex h-8 min-w-[3.25rem] items-center justify-between gap-1 rounded-full border border-transparent px-2 text-[10px] font-semibold tracking-[0.04em] text-[#2f2f2f] transition-colors sm:h-9 sm:min-w-[3.6rem] sm:px-2.5 sm:text-[11px];
    text-transform: uppercase;
  }

  .language-picker-trigger:hover {
    @apply bg-[#f3f3f3] text-[#151515];
  }

  .language-picker-trigger:focus-visible {
    outline: none;
    border-color: #d8d8d8;
    background-color: #f7f7f7;
    color: #151515;
  }

  .language-menu {
    position: absolute;
    top: calc(100% + 0.45rem);
    left: 50%;
    width: 5.1rem;
    transform: translateX(-50%) translateY(-4px);
    border: 1px solid #d8d8d8;
    border-radius: 0.8rem;
    background-color: #ffffff;
    box-shadow: 0 12px 24px rgba(12, 16, 24, 0.16);
    z-index: 220;
    opacity: 0;
    pointer-events: none;
    transition: opacity 180ms ease, transform 180ms ease;
    overflow: visible;
    padding: 0.22rem;
  }

  @media (min-width: 640px) {
    .language-menu {
      width: 5.6rem;
    }
  }

  .language-menu.is-open {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    pointer-events: auto;
  }

  .language-menu-item {
    @apply flex w-full items-center justify-between rounded-lg border border-transparent px-1.5 py-1.5 text-left text-[10px] font-semibold tracking-[0.05em] transition-colors sm:px-2 sm:py-2 sm:text-[11px];
    text-transform: uppercase;
    color: #2f2f2f;
  }

  .language-menu-item:hover {
    @apply bg-[#f3f3f3];
  }

  .language-menu-item.is-active {
    border-color: #d8d8d8;
    background-color: #f7f7f7;
    color: #121212;
  }

  .language-code {
    line-height: 1;
  }

  .language-check {
    margin-left: 0.35rem;
    color: #151515;
    opacity: 0;
    transform: scale(0.88);
    transition: opacity 150ms ease, transform 150ms ease;
  }

  .language-menu-item.is-active .language-check {
    opacity: 1;
    transform: scale(1);
  }

  html.dark .language-picker-trigger {
    color: #e6ebf0;
  }

  html.dark .language-picker-trigger:hover {
    background-color: #1d2530;
    color: #f3f6fa;
  }

  html.dark .language-picker-trigger:focus-visible {
    border-color: #313a46;
    background-color: #1d2530;
    color: #f3f6fa;
  }

  html.dark .language-menu {
    border-color: #313a46;
    background-color: #161d27;
    box-shadow: 0 16px 30px rgba(0, 0, 0, 0.46);
  }

  html.dark .language-menu-item:hover {
    background-color: #1d2530;
  }

  html.dark .language-menu-item.is-active {
    border-color: #313a46;
    background-color: #1f2937;
    color: #f3f6fa;
  }

  html.dark .language-code {
    color: inherit;
  }

  html.dark .language-check {
    color: #f3f6fa;
  }

  html[dir="rtl"] .language-menu {
    transform: translateX(50%) translateY(-4px);
    left: auto;
    right: 50%;
  }

  html[dir="rtl"] .language-menu.is-open {
    transform: translateX(50%) translateY(0);
  }

  html[dir="rtl"] .language-menu-item {
    text-align: right;
  }

  html[dir="rtl"] .language-check {
    margin-left: 0.35rem;
    margin-right: 0;
  }

  .pill-button {
    @apply inline-flex items-center justify-center rounded-full border border-[#c8c5ba] bg-white px-3 py-1.5 text-xs font-semibold text-[#151515] transition-colors;
  }

  .pill-button:hover {
    @apply bg-[#f0efe9];
  }

  html.dark .pill-button {
    background-color: #161d27;
    border-color: #313a46;
    color: #e6ebf0;
  }

  html.dark .pill-button:hover {
    background-color: #1d2530;
  }

  .primary-button {
    @apply inline-flex items-center justify-center rounded-full border border-[#111] bg-[#111] px-4 py-2 text-sm font-semibold text-white transition-opacity;
  }

  .primary-button:hover {
    @apply opacity-90;
  }

  html.dark .primary-button {
    background-color: #e6ebf0;
    border-color: #e6ebf0;
    color: #10151d;
  }

  html.dark .primary-button:hover {
    opacity: 0.92;
  }

  .form-label {
    @apply mb-1 block text-xs font-semibold uppercase tracking-[0.06em] text-[#5a5a5a];
  }

  .form-input {
    @apply w-full rounded-xl border border-[#d9d7ce] bg-[#faf9f6] px-3 py-2 text-sm text-[#151515] outline-none transition-colors focus:border-[#151515];
  }

  html.dark .form-input {
    background-color: #161d27;
    border-color: #313a46;
    color: #e6ebf0;
  }

  html.dark .form-input:focus {
    border-color: #e6ebf0;
  }
}

@media (prefers-reduced-motion: reduce) {
  .floating-nav {
    transition: none;
  }

  .motion-reveal,
  .reveal-item {
    opacity: 1;
    transform: none;
    transition: none;
    filter: none;
  }

  .motion-card,
  .motion-press {
    transition: none;
  }

  .motion-card::after {
    display: none;
  }

  .motion-float,
  .motion-float-slow,
  .online-dot {
    animation: none;
  }

  .hero-char {
    opacity: 1;
    animation: none;
    transform: none;
    filter: none;
  }
}
